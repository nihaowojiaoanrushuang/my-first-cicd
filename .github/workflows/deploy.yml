name: Build and Test Website

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Test HTML syntax
        run: |
          echo "ğŸ” æ£€æŸ¥HTMLæ–‡ä»¶..."
          if grep -q "<html>" index.html; then
            echo "âœ… HTMLç»“æ„æ­£ç¡®"
          else
            echo "âŒ ä¸æ˜¯æœ‰æ•ˆçš„HTMLæ–‡ä»¶"
            exit 1
          fi
      
      - name: Build Docker image
        run: |
          echo "ğŸ³ æ„å»ºDockeré•œåƒ..."
          docker build -t my-website .
          echo "âœ… é•œåƒæ„å»ºæˆåŠŸ"
      
      - name: Deploy preview
        run: |
          echo "ğŸ¯ æ¨¡æ‹Ÿéƒ¨ç½²åˆ°æœåŠ¡å™¨..."
          echo "å¦‚æœè¿™æ˜¯çœŸå®ç¯å¢ƒï¼Œç°åœ¨å°±ä¼šéƒ¨ç½²äº†ï¼"
          echo "ç½‘ç«™åœ°å€: https://my-website.example.com"
